<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>中秋節四能量測驗 v1.98</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 0; }
    .container { max-width: 800px; margin: auto; padding: 20px; }
    .hidden { display: none; }
    img { max-width: 100%; height: auto; border-radius: 8px; }
    .question { margin: 20px 0; font-size: 1.2em; }
    .options button {
      display: block; width: 100%; margin: 10px 0; padding: 10px;
      font-size: 1em; border: 1px solid #ccc; border-radius: 8px; cursor: pointer;
    }
    .options button:hover { background-color: #f0f0f0; }
    .nav-buttons { margin-top: 20px; }
    .nav-buttons button { margin: 5px; padding: 10px 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    table, th, td { border: 1px solid #ccc; }
    th, td { padding: 10px; text-align: center; }
    .result-img { max-width: 400px; margin-top: 20px; }
  </style>
</head>
<body>

<div class="container">

  <!-- 首頁 -->
  <div id="homePage">
    <img src="00.jpg" alt="首頁圖片">
    <br><br>
    <button onclick="startQuiz()">開始測驗</button>
  </div>

  <!-- 測驗區 -->
  <div id="quizPage" class="hidden">
    <div id="questionContainer"></div>
    <div class="nav-buttons">
      <button onclick="prevQuestion()">上一題</button>
    </div>
  </div>

  <!-- 結果區 -->
  <div id="resultPage" class="hidden">
    <h2>測驗結果</h2>
    <img id="resultImage" class="result-img" src="" alt="結果圖片">
    <div id="resultText"></div>

    <h3>✅ 分析說明：</h3>
    <table>
      <tr>
        <th>選項</th><th>能量類型</th><th>關鍵詞</th><th>節日風格</th>
      </tr>
      <tr><td>A</td><td>發電型</td><td>行動、冒險、衝勁</td><td>節日活動發起人、氣氛帶動者</td></tr>
      <tr><td>B</td><td>火焰型</td><td>表現、交流、感受</td><td>節日人氣王、自拍分享好手</td></tr>
      <tr><td>C</td><td>節奏型</td><td>安穩、溫暖、照顧</td><td>家族支柱、溫柔照顧者</td></tr>
      <tr><td>D</td><td>鋼鐵型</td><td>分析、結構、預測</td><td>節日控管者、流程總召</td></tr>
    </table>

    <button onclick="copyResult()">複製結果</button>
    <button onclick="restartQuiz()">再測一次</button>

    <h3>📋 每題作答紀錄</h3>
    <div id="answerLog"></div>
  </div>

</div>

<script>
  const questions = [
    { q: "中秋節最理想的活動呈現是？", options: ["烤肉大作戰！一定要吃最狂、烤最久！", "能跟朋友自拍聊天、玩氣氛最棒！", "家人團聚一起吃月餅配茶聊生活", "行程清楚、流程順、準時開始準時收尾"] },
    { q: "烤肉現場大家都不太動作，你會？", options: ["衝去生火、分工、抓人一起動起來", "邊烤邊主持氣氛，還順便直播分享", "默默補菜、照顧小孩、洗碗撿垃圾", "把器材重新整理擺好，重排動線再重新分工"] },
    { q: "如果參加中秋晚會，你會？", options: ["主動帶活動", "熱情表演互動", "幫忙照顧大家", "安排座位流程"] },
    { q: "別人送你月餅禮盒，你最在意的是？", options: ["是不是創新口味？比如珍奶、鹹蛋黃流沙？", "有沒有好看的包裝，拍照起來超有感", "老字號品牌，傳統味道最安心", "成分、熱量、保存期限、每顆幾克都會看清楚"] },
    { q: "如果你是中秋晚會主辦人，你最想規劃什麼？", options: ["有競賽、挑戰遊戲、拼誰烤得最快最準！", "舞台表演、才藝秀、變裝派對，燈光音效全上", "月光下野餐，大家一起圍坐談心吃甜點", "時間表、物資清單、流程表、交通圖...力求籌備完善"] },
    { q: "烤肉時你會負責？", options: ["掌火翻烤", "聊天炒熱氣氛", "分菜遞食物", "控管時間火候"] },
    { q: "中秋拍照時你會？", options: ["主導夥伴大合照", "自拍多張美照", "默默入鏡並引導沒入鏡的人", "有人說拍照才跟著入鏡"] },
    { q: "對於中秋假期的感受？", options: ["充滿活力行程", "分享快樂時光", "溫暖安心時刻", "規劃有效安排"] },
    { q: "活動即將結束，你會？", options: ["建議加碼再玩一輪！月亮在，我還在！", "跟大家合照、加聯絡方式，延續熱度！", "開始幫忙收東西，謝謝大家一起參加", "討論沒準備周到的地方下次改進"] },
    { q: "中秋烤肉最麻煩就是錢，你通常是什麼角色？", options: ["我都主導活動了，這種事你們處理", "數學不會就是不會", "幫大家找到CP值最高的食材", "APP處理，如僅紙筆就耐心計算"] }
  ];

  let currentQuestion = 0;
  let answers = [];

  const questionContainer = document.getElementById("questionContainer");
  const quizPage = document.getElementById("quizPage");
  const homePage = document.getElementById("homePage");
  const resultPage = document.getElementById("resultPage");
  const resultText = document.getElementById("resultText");
  const resultImage = document.getElementById("resultImage");
  const answerLog = document.getElementById("answerLog");

  const energyMap = { A: "發電機", B: "火焰", C: "節奏", D: "鋼鐵" };
  const imgMap = { A: "01.jpg", B: "02.jpg", C: "03.jpg", D: "04.jpg" };

  function startQuiz() {
    homePage.style.display = "none";
    quizPage.style.display = "block";
    showQuestion();
  }

  function showQuestion() {
    const q = questions[currentQuestion];
    let html = `<div class="question">${currentQuestion + 1}. ${q.q}</div><div class="options">`;
    ["A", "B", "C", "D"].forEach((opt, i) => {
      html += `<button onclick="selectAnswer('${opt}')">${opt}. ${q.options[i]}</button>`;
    });
    html += "</div>";
    questionContainer.innerHTML = html;
  }

  function selectAnswer(option) {
    answers[currentQuestion] = option;
    if (currentQuestion < questions.length - 1) {
      currentQuestion++;
      showQuestion();
    } else {
      showResult();
    }
  }

  function prevQuestion() {
    if (currentQuestion > 0) {
      currentQuestion--;
      showQuestion();
    }
  }

  function showResult() {
    quizPage.style.display = "none";
    resultPage.style.display = "block";

    let counts = { A: 0, B: 0, C: 0, D: 0 };
    answers.forEach(a => counts[a]++);

    let maxOption = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);

    resultText.innerHTML = `
      <p>你的能量分布：A:${counts.A} B:${counts.B} C:${counts.C} D:${counts.D}</p>
      <h3>🌟 最強能量類型：${energyMap[maxOption]}</h3>
    `;
    resultImage.src = imgMap[maxOption];

    let logHtml = "<ul>";
    questions.forEach((q, i) => {
      let ans = answers[i];
      logHtml += `<li>${i+1}. ${q.q} <br> 👉 你的選擇：${ans}. ${q.options["ABCD".indexOf(ans)]}</li>`;
    });
    logHtml += "</ul>";
    answerLog.innerHTML = logHtml;
  }

  function copyResult() {
    let text = resultText.innerText;
    navigator.clipboard.writeText(text + "\n作答紀錄:\n" + answerLog.innerText);
    alert("結果已複製到剪貼簿！");
  }

  function restartQuiz() {
    currentQuestion = 0;
    answers = [];
    resultPage.style.display = "none";
    homePage.style.display = "block";
  }
</script>

</body>
</html>
