<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>🌕 中秋節 × 四能量測驗</title>
  <style>
    body { font-family: "Microsoft JhengHei", sans-serif; text-align: center; margin: 20px; }
    .container { max-width: 800px; margin: auto; }
    .question { display: none; }
    .active { display: block; }
    button { margin: 10px; padding: 10px 20px; font-size: 16px; }
    img { max-width: 100%; height: auto; border-radius: 10px; margin: 15px 0; }
    .result { display: none; }
    .answers { text-align: left; margin-top: 20px; }
    .answers p { background: #f0f0f0; padding: 8px; border-radius: 5px; margin: 5px 0; }
  </style>
</head>
<body>
  <div class="container">
    <!-- 首頁 -->
    <div id="home" class="active">
      <h1>🌕 中秋節 × 四能量測驗</h1>
      <p>🎯「從你怎麼過中秋，看見你的天賦能量」</p>
      <img src="00.jpg" alt="首頁圖片">
      <button onclick="startQuiz()">開始測驗</button>
    </div>

    <!-- 題目區 -->
    <div id="quiz"></div>

    <!-- 結果頁 -->
    <div id="result" class="result">
      <h2>🌟 測驗結果 🌟</h2>
      <img id="resultImage" src="" alt="能量結果">
      <p id="resultText"></p>
      <h3>📊 ABCD 總計</h3>
      <p id="scoreCount"></p>
      <h3>📝 你的作答紀錄</h3>
      <div id="answerLog" class="answers"></div>
      <button onclick="restartQuiz()">再測一次</button>
    </div>
  </div>

  <script>
    const questions = [
      {q: "中秋節當天你最期待的是？", a:["烤肉大作戰！一定要吃最狂、烤最久！","能跟朋友自拍聊天、玩氣氛最棒！","家人團聚一起吃月餅配茶聊生活","行程清楚、流程順、準時開始準時收尾"]},
      {q: "烤肉現場大家都不太動作，你會？", a:["衝去生火、分工、抓人一起動起來","邊烤邊主持氣氛，還順便直播分享","默默補菜、照顧小孩、洗碗撿垃圾","把器材重新整理擺好，重排動線再重新分工"]},
      {q: "別人送你月餅禮盒，你最在意的是？", a:["是不是創新口味？比如珍奶、鹹蛋黃流沙？","有沒有好看的包裝，拍照起來超有感","老字號品牌，傳統味道最安心","成分、熱量、保存期限、每顆幾克都會看清楚"]},
      {q: "如果你是中秋晚會主辦人，你最想規劃什麼？", a:["有競賽、挑戰遊戲、拼誰烤得最快最準！","舞台表演、才藝秀、變裝派對，燈光音效全上","月光下野餐，大家一起圍坐談心吃甜點","時間表、動線圖、物資清單、流程表事先發好發滿"]},
      {q: "有人建議中秋節改成「賞月靜心日」，你會？", a:["太無聊了，我更喜歡熱鬧的節奏","不反對啦，但可以有表演或主題活動會更好","感覺還不錯，靜靜的氣氛挺療癒","要靜心也行，但我想先知道有沒有講義跟時間表"]},
      {q: "中秋節聚會人太多、場地太小時你會？", a:["當場找解法！人多一點才夠熱鬧～","利用空間自拍一下、到處串門子","找個角落慢慢烤肉、照顧一下老人小孩","立刻調整座位、重新分組、改善流程"]},
      {q: "對你來說，「月亮」代表什麼？", a:["永恆又變化的神秘力量，有種冒險感","美的象徵，怎麼拍都很有意境！","家人團圓時的溫柔背景","天文現象，有周期、有陰晴、有規律"]},
      {q: "如果你負責中秋晚會的拍攝，你會？", a:["拍大家大笑、玩遊戲的瞬間！要動感！","拍主角們，構圖美、光線佳，風格大片","拍大合照，記錄大家在一起的感覺","拍活動流程、表格、分工進行狀況做存檔"]},
      {q: "中秋節月圓之夜，你會？", a:["去山上、海邊、夜跑、玩狼人殺——行動先行！","穿美美的衣服跟朋友聚會拍照分享","和家人一起泡茶聊天看月亮","拿出天文App，看月亮是幾點幾分最圓，再拍照存檔"]},
      {q: "活動即將結束，你會？", a:["建議加碼再玩一輪！月亮還在，我也還在！","跟大家合照、加聯絡方式，延續熱度！","開始幫忙收東西，謝謝大家一起參加","開始做總結、列回饋表、規劃下次更好版本"]}
    ];

    const mapping = ["發電機","火焰","節奏","鋼鐵"];
    let current = 0;
    let answers = [];

    function startQuiz() {
      document.getElementById("home").style.display = "none";
      showQuestion(0);
    }

    function showQuestion(i) {
      const quiz = document.getElementById("quiz");
      quiz.innerHTML = "";
      const div = document.createElement("div");
      div.className = "question active";
      div.innerHTML = `<h3>第 ${i+1} 題 / ${questions.length}</h3><p>${questions[i].q}</p>`;
      questions[i].a.forEach((ans, idx) => {
        const btn = document.createElement("button");
        btn.textContent = ans;
        btn.onclick = () => { answers[i] = idx; };
        div.appendChild(btn);
        div.appendChild(document.createElement("br"));
      });
      // 上一題/下一題
      if (i > 0) {
        const prev = document.createElement("button");
        prev.textContent = "⬅ 上一題";
        prev.onclick = () => showQuestion(i-1);
        div.appendChild(prev);
      }
      if (i < questions.length-1) {
        const next = document.createElement("button");
        next.textContent = "下一題 ➡";
        next.onclick = () => showQuestion(i+1);
        div.appendChild(next);
      } else {
        const finish = document.createElement("button");
        finish.textContent = "完成測驗";
        finish.onclick = showResult;
        div.appendChild(finish);
      }
      quiz.appendChild(div);
    }

    function showResult() {
      document.getElementById("quiz").style.display = "none";
      const result = document.getElementById("result");
      result.style.display = "block";

      let counts = [0,0,0,0];
      answers.forEach(i => { if (i!==undefined) counts[i]++; });

      const maxIndex = counts.indexOf(Math.max(...counts));
      const images = ["01.jpg","02.jpg","03.jpg","04.jpg"];
      document.getElementById("resultImage").src = images[maxIndex];
      document.getElementById("resultText").textContent = `你最強的能量是：${mapping[maxIndex]}！`;

      document.getElementById("scoreCount").textContent =
        `A(發電機): ${counts[0]} ｜ B(火焰): ${counts[1]} ｜ C(節奏): ${counts[2]} ｜ D(鋼鐵): ${counts[3]}`;

      const log = document.getElementById("answerLog");
      log.innerHTML = "";
      questions.forEach((q, i) => {
        const ansIdx = answers[i];
        if (ansIdx !== undefined) {
          log.innerHTML += `<p><b>第${i+1}題：</b> ${q.q}<br>👉 你的選擇：${q.a[ansIdx]}</p>`;
        }
      });
    }

    function restartQuiz() {
      answers = [];
      current = 0;
      document.getElementById("result").style.display = "none";
      document.getElementById("quiz").style.display = "block";
      showQuestion(0);
    }
  </script>
</body>
</html>
